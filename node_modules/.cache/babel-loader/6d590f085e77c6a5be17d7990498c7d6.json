{"ast":null,"code":"//store yelp api key\nvar apiKey='pSupkM4EbuChkBT6bCX812gsIACmnTbMQBUuwvs-FNdQSuaFkcVpxbX9YLA3pHIdZqS5S6drqYtJd5TUTT5hw6_HUA1NWDCQqFkoQeeQ7rMhzkIMB7f4To1ZXFB1XnYx';var Yelp={searchYelp:function searchYelp(term,location,sortBy){//Prepend the URL path with CORS Anywhere API to bypass CORS restrictions\n//use string interpolation so parameters can be plugged into url\nreturn fetch(\"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=\".concat(term,\"&location=\").concat(location,\"&sort_by=\").concat(sortBy),{headers:{Authorization:\"Bearer \".concat(apiKey)}//convert the returned response to JSON\n}).then(function(response){return response.json();//check to see if jsonResponse has a businesses key\n}).then(function(jsonResponse){if(jsonResponse.businesses){//loop through the json response\nreturn jsonResponse.businesses.map(function(business){//make and object with all the business attributes to display\nconsole.log(business);return{id:business.id,imageSrc:business.image_url,name:business.name,address:business.location.address1,city:business.location.city,state:business.location.state,zipCode:business.location.zip_code,category:business.categories[0].title,rating:business.rating,reviewCount:business.review_count};});}});}};export default Yelp;","map":{"version":3,"sources":["C:/Users/zorro/Desktop/react2/ravenous/ravenous/src/util/Yelp.js"],"names":["apiKey","Yelp","searchYelp","term","location","sortBy","fetch","headers","Authorization","then","response","json","jsonResponse","businesses","map","business","console","log","id","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","categories","title","rating","reviewCount","review_count"],"mappings":"AAAA;AACA,GAAMA,CAAAA,MAAM,CAAG,kIAAf,CAEA,GAAMC,CAAAA,IAAI,CAAG,CACbC,UADa,qBACDC,IADC,CACKC,QADL,CACeC,MADf,CACsB,CAC/B;AACA;AACA,MAAOC,CAAAA,KAAK,8FAAuFH,IAAvF,sBAAwGC,QAAxG,qBAA4HC,MAA5H,EAAsI,CAC9IE,OAAO,CAAE,CACTC,aAAa,kBAAYR,MAAZ,CADJ,CAGb;AAJkJ,CAAtI,CAAL,CAKJS,IALI,CAKC,SAAAC,QAAQ,CAAI,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACJ;AACC,CARM,EAQJF,IARI,CAQC,SAACG,YAAD,CAAkB,CACtB,GAAGA,YAAY,CAACC,UAAhB,CAA4B,CACxB;AACA,MAAOD,CAAAA,YAAY,CAACC,UAAb,CAAwBC,GAAxB,CAA4B,SAACC,QAAD,CAAc,CACjD;AACAC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACC,MAAO,CACJG,EAAE,CAAEH,QAAQ,CAACG,EADT,CAEJC,QAAQ,CAAEJ,QAAQ,CAACK,SAFf,CAGJC,IAAI,CAAEN,QAAQ,CAACM,IAHX,CAIJC,OAAO,CAAEP,QAAQ,CAACX,QAAT,CAAkBmB,QAJvB,CAKJC,IAAI,CAAET,QAAQ,CAACX,QAAT,CAAkBoB,IALpB,CAMJC,KAAK,CAAEV,QAAQ,CAACX,QAAT,CAAkBqB,KANrB,CAOJC,OAAO,CAAEX,QAAQ,CAACX,QAAT,CAAkBuB,QAPvB,CAQJC,QAAQ,CAAEb,QAAQ,CAACc,UAAT,CAAoB,CAApB,EAAuBC,KAR7B,CASJC,MAAM,CAAEhB,QAAQ,CAACgB,MATb,CAUJC,WAAW,CAAEjB,QAAQ,CAACkB,YAVlB,CAAP,CAYI,CAfE,CAAP,CAgBC,CACJ,CA5BE,CAAP,CA6BC,CAjCQ,CAAb,CAoCA,cAAehC,CAAAA,IAAf","sourcesContent":["//store yelp api key\r\nconst apiKey = 'pSupkM4EbuChkBT6bCX812gsIACmnTbMQBUuwvs-FNdQSuaFkcVpxbX9YLA3pHIdZqS5S6drqYtJd5TUTT5hw6_HUA1NWDCQqFkoQeeQ7rMhzkIMB7f4To1ZXFB1XnYx';\r\n\r\nconst Yelp = {\r\nsearchYelp (term, location, sortBy){\r\n    //Prepend the URL path with CORS Anywhere API to bypass CORS restrictions\r\n    //use string interpolation so parameters can be plugged into url\r\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}`, {\r\n        headers: {\r\n        Authorization: `Bearer ${apiKey}`,\r\n        },\r\n    //convert the returned response to JSON\r\n    }).then(response => {\r\n        return response.json();\r\n    //check to see if jsonResponse has a businesses key\r\n    }).then((jsonResponse) => {\r\n        if(jsonResponse.businesses) {\r\n            //loop through the json response\r\n            return jsonResponse.businesses.map((business) => {\r\n            //make and object with all the business attributes to display\r\n            console.log(business);\r\n             return {\r\n                id: business.id,\r\n                imageSrc: business.image_url,\r\n                name: business.name,\r\n                address: business.location.address1,\r\n                city: business.location.city,\r\n                state: business.location.state,\r\n                zipCode: business.location.zip_code,\r\n                category: business.categories[0].title,\r\n                rating: business.rating,\r\n                reviewCount: business.review_count,\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nexport default Yelp;"]},"metadata":{},"sourceType":"module"}